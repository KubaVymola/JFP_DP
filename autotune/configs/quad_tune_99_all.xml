<?xml version="1.1" encoding="UTF-8"?>

<autotune>
    <pass name="angle" end_time="30.0">
        <function>
            <step>
                <at_time> 10.0 </at_time>
                <to> 20.0 </to>
            </step>
        </function>

        <error>
            <type> quadratic </type>
            <parameter> fcs/theta-est </parameter>
        </error>

        <define> angle_sp_tune </define>
        
        <parameter name="angle_pid_p">
            <min>  0.00001 </min>
            <max>  0.1 </max>
            <step> 0.00001 </step>
            <init> 0.00017 </init>
        </parameter>
        
        <parameter name="angle_pid_i">
            <min>  0.000001 </min>
            <max>  0.1 </max>
            <step> 0.000001 </step>
            <init> 0.00002 </init>
        </parameter>
    
        <parameter name="angle_pid_d">
            <min>  0.000001 </min>
            <max>  0.1 </max>
            <step> 0.000001 </step>
            <init> 0.000099 </init>
        </parameter>
    </pass>
    


    <pass name="alt_sp" end_time="30.0">
        <function>
            <step>
                <at_time> 5.0 </at_time>
                <to> 5.0 </to>
            </step>
        </function>

        <error>
            <type> quadratic </type>
            <parameter> ext/altitude-m </parameter>
        </error>

        <define> alt_sp_tune </define>
        
        <parameter name="alt_sp_pid_p">
            <min>  0.001 </min>
            <max>  0.2 </max>
            <step> 0.001 </step>
            <init> 0.044 </init>
        </parameter>

        <parameter name="alt_sp_pid_i">
            <min>  0.001 </min>
            <max>  0.2 </max>
            <step> 0.001 </step>
            <init> 0.011 </init>
        </parameter>

        <parameter name="alt_sp_pid_d">
            <min>  0.001 </min>
            <max>  0.2 </max>
            <step> 0.001 </step>
            <init> 0.088 </init>
        </parameter>
    </pass>
</autotune>